<html>
    <head>
        <style>


            .form {
                position: relative;
            }

            #container {
                position: relative;
                width: 297px;
                height: 420px;
            }

            #app {
                position: absolute;
                width: 100%;
                height: 100%;
            }

            #ph {
                display: flex;
                position: absolute;
                top: 139px;
                left: 71px;
                right: 71px;
                bottom: 143px;
                align-self: center;
            }

            #ph img {
                flex-shrink: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            #leftDiag {
                position: absolute;
                left: 0;
                top: 273px;
                right: 148px;
                bottom: 0;
                border-top: black 1px dotted;
                transform: skewY(45deg);
                transform-origin: bottom left;
            }

            #rightDiag {
                position: absolute;
                left: 148px;
                top: 273px;
                bottom: 0;
                right: 0;
                border-top: black 1px dotted;
                transform: skewY(-45deg);
                transform-origin: bottom right;
            }

            #leftLine {
                position: absolute;
                left: 74px;
                top: 0;
                bottom: 0;
                width: 0;
                border-right: black 1px dotted;
            }

            #topLine {
                position: absolute;
                left: 0;
                right: 0;
                top: 143px;
                height: 0;
                border-top: black 1px dotted;
            }

            #bottomLine {
                position: absolute;
                left: 0;
                right: 0;
                bottom: 147px;
                height: 0;
                border-top: black 1px dotted;
            }

            #rightLine {
                position: absolute;
                right: 74px;
                top: 0;
                bottom: 0;
                width: 0;
                border-left: black 1px dotted;
            }

            @media print {
                body * {
                    visibility: hidden;
                }

                #app, #app * {
                    visibility: visible;
                }

                #app {
                    position: fixed;
                    overflow: hidden;
                }

                #ph {
                    top: 33vh;
                    left: 24vw;
                    right: 24vw;
                    bottom: 34vh;
                }

                #leftDiag {
                    top: 64vh;
                    right: 50vw;
                }

                #rightDiag {
                    left: 50vw;
                    top: 64vh;
                }

                #leftLine {
                    left: 25vw;
                }

                #topLine {
                    top: 34vh;
                }

                #bottomLine {
                    bottom: 35vh;
                }

                #rightLine {
                    right: 25vw;
                }
            }

        </style>
    </head>
    <body>
    <div id="container">
        <div id="app">
            <div id="leftLine"></div>
            <div id="rightLine"></div>
            <div id="topLine"></div>
            <div id="bottomLine"></div>
            <div id="leftDiag"></div>
            <div id="rightDiag"></div>
            <div id="ph"></div>
        </div>
    </div>
    <div class="form">
        <form id="upload">
            <label htmlFor="file">File to upload</label>
            <input type="file" id="file" accept="image/*">
        </form>
    </div>
    <div class="form">
        Zoom: <input type="text" id="zoom" value="100">
    </div>
    <div class="form">
        <a href="http://www.origami-instructions.com/origami-place-card-with-stand.html" target="_blank">instructions</a>
    </div>
    <div class="form">
        <button id="printBtn">Print</button>
    </div>

    <script type="application/javascript">
        // Get the form and file field
        let form = document.querySelector('#upload');
        let file = document.querySelector('#file');
        let ph = document.querySelector('#ph');
        let zoom = document.querySelector('#zoom');
        let printBtn = document.querySelector('#printBtn');

        let img = document.createElement('img');
        ph.append(img);

        function onImageLoad(event) {
            img.src = event.target.result;
            handleZoomChange()
        }

        function handleSubmit(event) {
            event.preventDefault();
            if (!file.value.length) return;
            let reader = new FileReader();
            reader.onload = onImageLoad;
            reader.readAsDataURL(file.files[0]);
        }

        let zoomValue = 100

        function handleZoomChange() {
            try {
                let newZoomValue = parseFloat(zoom.value)
                if (Number.isNaN(newZoomValue)) {
                    throw (new Error('newZoomValue NAN'))
                }
                let scale = newZoomValue / 100
                ph.style.transform = 'scale(' + scale + ')'
                zoomValue = newZoomValue
            } catch (e) {
                zoom.value = zoomValue;
            }
        }

        function handlePrint() {
            window.print()
        }

        file.addEventListener('change', handleSubmit)
        printBtn.addEventListener('click', handlePrint);
        form.addEventListener('submit', handleSubmit);
        zoom.addEventListener('change', handleZoomChange);
    </script>
    </body>
</html>
